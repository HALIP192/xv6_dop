# Введение в курс

В первой лабораторной работе мы познакомимся с инструментами, 
которые будем использовать на протяжение всех лабораторных работ:

- make
- gcc
- gdb/lldb
- системы контроля версий  
- основы языка программирования Си

# Системы контроля версий

## Виды систем контроля

 - Git
 - Svn (Subversion)
 - Mercurial
 - Perforce
 - т.д.

## Принцип работы

?? Описать работу на примере diff и patch

## Основы Git

### Выполнить перед основной частью

Запустите скрипт, который создаст папку и файлы в ней.

    ./create_dir.sh
    bash create_dir.sh

После исполнения сценария в скрипте, у Вас создалась папка с именем *lab1*.
Перейдите в нее для выполнения последующих команд.

### Основная часть

#### <span style="color:grey">Создание репозитория</span>

Для создания репозитория в директории, где его еще нет используется 
следующая команда.

    git init

Результатам использования данной команды будет созданный репозиторий.  

В случае если репозиторий уже был создан ранее, то вы можете склонировать 
это репозиторий к себе с помощью следующей команды.

    git clone url

> ### ❗️<span style="color:orange">Заметки</span>
> Ветка используемая по умолчанию называется **master**.  
> В зависимости от настроек репозитория она может называться **main** и т.д.  
> Подробнее о ветках будет рассказано дальше.

#### <span style="color:grey">Вывод состояния</span>

Давайте узнаем какие файлы в данный момент можно закомитить. Для этого 
используем следующую команду.

    git status

В результате должны получить следующее сообщение.

    On branch master

    No commits yet

    Untracked files:
    (use "git add <file>..." to include in what will be committed)
        hello_world.c

    nothing added to commit but untracked files present (use "git add" to track)

Рассмотрим данное сообщение подробнее. 
Первая строчка говорит нам на какой ветки происходят изменения. 
В нашем случае это ветка **master**. 
Следующей строчкой сообщается, что коммитов еще не было. 
Затем, идет сообщение о том какие файлы еще не отслеживаются в данный момент 
(в нашем случае это файл *hello_world.c*) или какие файлы были изменены.  

#### <span style="color:grey">Отслеживание файлов</span>

Давайте добавим наш файл в отслеживаемые. 
Для этого напишем команду, приведенную ниже.

    git add hello_world.c

После исполнения команды при проверке статуса мы можем увидеть сообщение, 
в котором говорится, что файл *hello_world.c* отслеживается, 
но измениния еще не закоммичены. 

    On branch master

    No commits yet

    Changes to be committed:
    (use "git rm --cached <file>..." to unstage)
        new file:   hello_world.c

#### <span style="color:grey">Создание коммита</span>

Для создания коммита используем следующую команду. 
После должен открыться текстовый редактов, 
в котором необходимо будет ввести сообщение для коммита.
    
    git commit
    git commit -m "Message" # сокращенный вариант, без вызова текстового редактора.

При успешном создании коммита будет выведено следующее сообщение.

    [master (root-commit) 7561abb] update: add file hello_world.c
    1 file changed, 6 insertions(+)
    create mode 100644 hello_world.c

#### <span style="color:grey">История коммитов</span>

Таким образом мы сделали наш первый коммит в репозиторий. 
Для просмотра истории коммитов можно использовать следующую команду.

    git log

Результатом команды будет сообщение состоящие из 
хэша коммита, автора, даты и изменений.

    commit 7561abb1172e2b1c5c027421be438187de43644a (HEAD -> master)
    Author: eestelle <yosiky@list.ru>
    Date:   Sat Sep 16 11:38:45 2023 +0300

    update: add file hello_world.c

#### <span style="color:grey">Удаленный репозиторий. Создание соединениея</span>

> ### ❗️<span style="color:orange">Заметки</span>
> Данный раздел нужен если репозиторий был создан, а не склонирован.

Ранее все команды были предназначены для работы с локальным репозиторием. 
Теперь рассмотрим как отправить созданный нами коммит в удаленный репозиториий. 
Перед отправкой коммита необходимо связать наш репозиторий с удаленным, 
который находится на [github](https://github.com).

    git remote add origin url

> ### ❗️<span style="color:orange">Заметки</span>
> Для создания удаленного репозитория Вам сначала необходимо будет
> зарегистрироваться на платформе.  
> **Локальный репозиторий** - это репозиторий, находящийся на Вашей машине.  
> Список доступных удаленных репозиториев 
> можно посмотреть с помощью команды **git remote**.

#### <span style="color:grey">Удаленный репозиторий. Отправка</span>

Ранее мы успешно соединили наш локальный репозиторий с удаленным. 
Теперь же отправим наши изменения в удаленный репозиторий.

    git push origin branch_name

В случае успешной отправки будет выведено сообщение следующего вида.

    Enumerating objects: 3, done.
    Counting objects: 100% (3/3), done.
    Delta compression using up to 10 threads
    Compressing objects: 100% (2/2), done.
    Writing objects: 100% (3/3), 976 bytes | 976.00 KiB/s, done.
    Total 3 (delta 0), reused 0 (delta 0), pack-reused 0
    To github.com:Yosiky/check.git
    * [new branch]      master -> master

#### <span style="color:grey">Управление ветками. Введение в HEAD</span>

**HEAD** - это указатель на активный коммит или другими словами где мы находимся
в данный момент. При смене ветки из master в dev применяются коммиты с D и E.

##### Пример 1. **HEAD** - указывает на последний коммит в master.
```
            HEAD->master
                  |
    A ---> B ---> C 
```

##### Пример 2. **HEAD** - указывает на другую активную ветку.
```
                  master
                  |
    A ---> B ---> C 
                   \
                    D ---> E
                           |
                     HEAD->dev
```

#### <span style="color:grey">Управление ветками. Практика</span>

Для удобства ведения проекта, а также работы в команде 
был добавлен механизм под названием ветки.

Создание новоей ветки можно осуществить двумя методами.  
Первый метод, позволяет создать ветку, но не переходить на нее
Второй метод, позволяет создать ветку и сразу же перейти на нее.

    git branch branch_name
    git checkout -b branch_name

Для переключения между уже имеющимися ветками можно использовать также два 
способа.

    git checkout branch_name
    git switch branch_name


> ### ❗️<span style="color:orange">Заметки</span>
> В последующий лабораторных Вам необходимо будет использовать **git** и 
> **github** для сдачи лабораторных работ.

> ### ❓*Задание* (<span style="color:green">легко</span>)
> ✅ По ссылке в конце прорешать первые 3 главы в разделе **"Основы"**.  
> ✅ По ссылке в конце прорешать весь раздел **"Удаленные репозитории"**.  
> P.S.: Результат будет проверяться с помощью вопросов на основные команды.

------

## Полезные ссылки

https://learngitbranching.js.org - практические упражнения для git.  
https://git-scm.com/book/ru/v2 - теоретические сведения для работы с git. Есть английская версия. 